/****************************************************************************
 通讯格式详解（D8120）
----------------------------------------------------------------------
位号	     |   含 义	   |          描述      
-----------+-------------+--------------------------------------------
b0	       |  数据长度	 |   0： 7位   1： 8位
-----------+-------------+--------------------------------------------
b2b1	     |  校验方式	 |   00：不用  01：奇校验  11：偶校验
-----------+-------------+--------------------------------------------
b3	       |   停止位	   |   0： 1位   1： 2位
-----------+-------------+--------------------------------------------
           |             |   0001：300      0111：4800
b7b6b5b4	 |   波特率	   |   0100：600      1000：9600
           |             |   0101：1200     1001：19200
           |             |   0110：2400                               
-----------+-------------+--------------------------------------------
b8		     |             |   0：不用   注：无协议通讯专用
-----------+-------------+--------------------------------------------
b9		     |             |   0：不用   同上
-----------+-------------+--------------------------------------------
b12b11b10	 |  通讯接口	 |   000：RS485（RS422）接口
           |             |   010：        RS232C接口
-----------+-------------+--------------------------------------------
b13	       |  求和检查	 |   0：不加求和码  1：自动加上求和码
-----------+-------------+-------------------------------------------
b14	       |   协议	     |   0：无协议通讯  1：专用通讯协议
-----------+-------------+--------------------------------------------
b15	       | 协议格式	   |   0：格式1  1：格式4				 
----------------------------------------------------------------------

举例：D8120 = 0X4096           通讯波特率是19200

*********************************************************************************/
#include <main.h>
#include "usart.h"
#include "PLC_IO.h"
#include "stm32f10x_dma.h"

extern char tx_data[143];  //发送缓存
extern u16 all_data[16600];





